<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="zh"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>Monster.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">comp3111Project</a> &gt; <a href="index.source.html" class="el_package">sample</a> &gt; <span class="el_source">Monster.java</span></div><h1>Monster.java</h1><pre class="source lang-java linenums">package sample;

/**
 * monster type enum
 *
 */
<span class="fc" id="L7">enum MonsterType{Fox, Penguin, Unicorn};</span>

/**
 * The basic class for the three monsters
 *
 */
public  class Monster extends Item{

	/**
	 *  hp
	 */
	int health;
	/**
	 * monster moving speed
	 */
	int speed;
	/**
	 * reward when the monster were killed
	 */
	int earning;		
	/**
	 * monster type
	 */
	MonsterType type;
	/**
	 * the array store the monster name
	 */
<span class="fc" id="L34">	String[] Montype= {&quot;Fox&quot;, &quot;Penguin&quot;, &quot;Unicorn&quot;};</span>
	/**
	 * the freeze time of the monster by ice tower
	 */
<span class="fc" id="L38">	int freezeTime=0;</span>
	/**
	 * the monster's original speed, use by ice tower
	 */
<span class="fc" id="L42">	int normalSpeed=0;</span>

	/**
	 * monster constructor
	 * @param health monster hp		
	 * @param earning reward gained from monster
	 * @param type type of monster
	 * @param speed speed of monster
	 */
	public Monster(int health, int earning, MonsterType type, int speed)
	{
<span class="fc" id="L53">		super(0,0);</span>
<span class="fc" id="L54">		this.health = health;</span>
<span class="fc" id="L55">		this.earning = earning;</span>
<span class="fc" id="L56">		this.type = type;</span>
<span class="fc" id="L57">		this.speed =normalSpeed=speed;</span>
		
<span class="fc" id="L59">		System.out.println(Montype[type.ordinal()] +&quot; &quot;+ health + &quot; hp generated&quot;);</span>
<span class="fc" id="L60">	}</span>
	
	/**
	 * reduce the monster  hp
	 * 
	 * @param health monster hp
	 */
	public void damage(int health) 
	{
<span class="fc" id="L69">		this.health-=health;</span>
<span class="fc" id="L70">	}</span>
	
	/**
	 * update the freeze time by ice tower, the time cannot more then 3, and the monster would been stopped
	 * @param freezeTime the time freeze by ice tower
	 */
	public void slowDown(int freezeTime)
	{
<span class="fc" id="L78">		this.freezeTime = freezeTime;</span>
<span class="fc" id="L79">		speed-=5; //this fix, or your can modify</span>
<span class="fc" id="L80">	}</span>
	
	/**
	 * return speed
	 * @return speed
	 */
	public int getSpeed() {
<span class="fc" id="L87">		return speed;</span>
	}
	
	/**
	 * check whether the monster dead or not
	 * @return true or false
	 */
	public Boolean isDead() {
<span class="fc bfc" id="L95" title="All 2 branches covered.">		return (health&lt;=0)?true:false;</span>
	}
	/**
	 * return the monster type
	 * @return monster type
	 */
	public MonsterType getType() {
<span class="fc" id="L102">		return type;</span>
	}

	/**
	 * move the monster
	 * Also update the remaining freeze time, if any
	 */
	public void move(){
		
		/**
		 * temp variable for monster's x coordinate
		 */
<span class="fc" id="L114">		double moveX=0;</span>
		/**
		 * temp variable for monster's y coordinate
		 */
<span class="fc" id="L118">		double moveY=0;</span>
		/**
		 * the distance the monster move
		 */
		double distance;
<span class="fc bfc" id="L123" title="All 2 branches covered.">		if(speed&lt;=0)</span>
<span class="fc" id="L124">			return;</span>
		
<span class="fc bfc" id="L126" title="All 10 branches covered.">		if(coord.pixel_X&lt;40||coord.pixel_X&gt;160&amp;&amp;coord.pixel_X&lt;200||coord.pixel_X&gt;320&amp;&amp;coord.pixel_X&lt;360)</span>
		{
<span class="fc" id="L128">			distance=460-coord.pixel_Y-speed; //420 means in the middle of the grid, monster not move to the bottom of the bottom grid</span>
<span class="fc bfc" id="L129" title="All 2 branches covered.">			if(coord.pixel_Y==20)</span>
			{
<span class="fc bfc" id="L131" title="All 4 branches covered.">				if(coord.pixel_X-320&gt;0&amp;&amp;coord.pixel_X+speed&gt;=340)</span>
				{
<span class="fc" id="L133">					moveX=340-coord.pixel_X;</span>
<span class="fc" id="L134">					moveY=speed-moveX;</span>
				}
<span class="fc bfc" id="L136" title="All 4 branches covered.">				else if(coord.pixel_X-160&gt;0&amp;&amp;coord.pixel_X+speed&gt;=180)</span>
				{
<span class="fc" id="L138">					moveX=180-coord.pixel_X;</span>
<span class="fc" id="L139">					moveY=speed-moveX;</span>
				}
				else
				{
<span class="fc" id="L143">					moveY=speed;</span>
				}
			}
<span class="fc bfc" id="L146" title="All 2 branches covered.">			else if(distance &gt;=0)</span>
			{
<span class="fc" id="L148">				moveY=speed;</span>
			}
			else
			{
<span class="fc" id="L152">				moveY=460-coord.pixel_Y;</span>
<span class="fc" id="L153">				moveX=speed-moveY;</span>
			}
			
<span class="fc" id="L156">			coord.pixel_X+=moveX;</span>
<span class="fc" id="L157">			coord.pixel_Y+=moveY;</span>
<span class="fc" id="L158">			this.coord=new Coordinate((coord.pixel_X-20)/40,(coord.pixel_Y-20)/40);</span>
			
			
		}
<span class="pc bpc" id="L162" title="1 of 12 branches missed.">		else if(coord.pixel_X&gt;80&amp;&amp;coord.pixel_X&lt;120||coord.pixel_X&gt;240&amp;&amp;coord.pixel_X&lt;280||coord.pixel_X&gt;400&amp;&amp;coord.pixel_X&lt;440)</span>
		{
<span class="fc" id="L164">			distance=coord.pixel_Y-speed-20;</span>
<span class="fc bfc" id="L165" title="All 2 branches covered.">			if(coord.pixel_Y==460)</span>
			{
<span class="fc bfc" id="L167" title="All 4 branches covered.">				if(coord.pixel_X-400&gt;0&amp;&amp;coord.pixel_X+speed&gt;=420)</span>
				{
<span class="fc" id="L169">					moveX=420-coord.pixel_X;</span>
<span class="fc" id="L170">					moveY=speed-moveX;</span>
				}
<span class="fc bfc" id="L172" title="All 4 branches covered.">				else if(coord.pixel_X-240&gt;0&amp;&amp;coord.pixel_X+speed&gt;=260)</span>
				{
<span class="fc" id="L174">					moveX=260-coord.pixel_X;</span>
<span class="fc" id="L175">					moveY=speed-moveX;</span>
				}
<span class="pc bpc" id="L177" title="1 of 4 branches missed.">				else if(coord.pixel_X-80&gt;0&amp;&amp;coord.pixel_X+speed&gt;=100)</span>
				{
<span class="fc" id="L179">					moveX=100-coord.pixel_X;</span>
<span class="fc" id="L180">					moveY=speed-moveX;</span>
				}
				else
				{
					
<span class="fc" id="L185">					moveX=speed;</span>
				}
			}
<span class="fc bfc" id="L188" title="All 2 branches covered.">			else if(distance &gt;=0)</span>
			{
<span class="fc" id="L190">				moveY=speed;</span>
			}
			else
			{
<span class="fc" id="L194">				moveY=coord.pixel_Y-20;</span>
<span class="fc" id="L195">				moveX=speed-moveY;</span>

			}
			 
<span class="fc" id="L199">			coord.pixel_X+=moveX;</span>
<span class="fc" id="L200">			coord.pixel_Y-=moveY;</span>
<span class="fc" id="L201">			this.coord=new Coordinate((coord.pixel_X-20)/40,(coord.pixel_Y-20)/40);</span>
		}
		else
		{
<span class="fc" id="L205">			coord.pixel_X+=speed;</span>
<span class="fc" id="L206">			this.coord=new Coordinate((coord.pixel_X-20)/40,(coord.pixel_Y-20)/40);</span>
		}
		
		
<span class="fc bfc" id="L210" title="All 2 branches covered.">		if(freezeTime&gt;0)</span>
<span class="fc" id="L211">			freezeTime--;</span>
<span class="fc bfc" id="L212" title="All 2 branches covered.">		if(freezeTime==0)</span>
<span class="fc" id="L213">			speed = normalSpeed;</span>
		
			
<span class="fc" id="L216">	}</span>


}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.4.201905082037</span></div></body></html>